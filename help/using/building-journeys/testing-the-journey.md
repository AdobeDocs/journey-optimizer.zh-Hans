---
solution: Journey Optimizer
product: journey optimizer
title: 测试您的历程
description: 了解如何测试您的历程
feature: Journeys
topic: Content Management
role: User
level: Intermediate
exl-id: 9937d9b5-df5e-4686-83ac-573c4eba983a
source-git-commit: 021cf48ab4b5ea8975135a20d5cef8846faa5991
workflow-type: tm+mt
source-wordcount: '1548'
ht-degree: 2%

---

# 测试您的历程{#testing_the_journey}

>[!CONTEXTUALHELP]
>id="ajo_journey_test"
>title="测试您的历程"
>abstract="在发布历程之前，使用测试用户档案对历程进行测试。 这允许您分析个人在历程中的流动方式，并在发布之前进行故障诊断。"

在发布历程之前，使用测试用户档案对历程进行测试。 利用此模式，可运行历程测试并使用测试用户档案识别问题。

只有测试用户档案才能在测试模式下进入历程。 您可以创建新的测试用户档案，或将现有用户档案转换为测试用户档案。 在 [此部分](../segment/creating-test-profiles.md).

>[!NOTE]
>
>在测试历程之前，必须解决所有错误（如果有）。 了解如何在测试之前检查错误 [此部分](../building-journeys/troubleshooting.md#checking-for-errors-before-testing).

要使用测试模式，请执行以下步骤：

1. 要激活测试模式，请激活 **[!UICONTROL 测试]** 切换，位于右上角。

   ![](assets/journeytest1.png)

1. 如果历程至少具有 **等待** 活动时，设置 **[!UICONTROL 等待时间]** 参数来定义每次等待活动和事件超时在测试模式下的最后持续时间。 默认时间为10秒，用于等待和事件超时。 这样可以确保快速获得测试结果。

   ![](assets/journeytest_wait.png)

   >[!NOTE]
   >
   >在历程中使用超时的反应事件时，等待时间默认值和最小值为40秒。 请参阅[此小节](../building-journeys/reaction-events.md)。

1. 使用 **[!UICONTROL 触发事件]** 按钮以配置事件并将事件发送到历程。

   ![](assets/journeyuctest1.png)

1. 配置所需的不同字段。 在 **配置文件标识符** 字段，输入用于标识测试用户档案的字段值。 例如，它可以是电子邮件地址。 确保发送与测试用户档案相关的事件。 请参阅[此小节](#firing_events)。

   ![](assets/journeyuctest1-bis.png)

1. 收到事件后，单击 **[!UICONTROL 显示日志]** 按钮查看测试结果并进行验证。 请参阅[此小节](#viewing_logs)。

   ![](assets/journeyuctest2.png)

1. 如果有任何错误，请取消激活测试模式，修改历程并再次进行测试。测试完成后，您可以发布历程。 请参阅[此页](../building-journeys/publishing-the-journey.md)。

## 重要说明 {#important_notes}

* 提供了一个界面来触发事件到测试历程，但事件也可由第三方系统(如Postman)发送。
* 只允许在实时客户用户档案服务中标记为“测试用户档案”的个人进入测试历程。 请参阅 [部分](../segment/creating-test-profiles.md).
* 测试模式仅在使用命名空间的草稿历程中可用。 测试模式需要检查进入历程的人员是否为测试用户档案，因此必须能够访问Adobe Experience Platform。
* 在测试会话期间，可以进入历程的测试用户档案最大数为100。
* 当您禁用测试模式时，它将从过去或当前使用该模式的所有人员处删除历程。 它还会清除报表。
* 您可以根据需要多次启用/禁用测试模式。
* 激活测试模式后，您无法修改历程。 在测试模式下，您可以直接发布历程，无需先停用测试模式。
* 达到拆分时，始终选择顶部分支。 如果希望测试选择其他路径，则可以重新组织拆分分支的位置。
* 为了优化性能并防止过时的资源使用情况，所有处于测试模式且一周内未触发的历程都将切换回 **草稿** 状态。

## 触发事件 {#firing_events}

>[!CONTEXTUALHELP]
>id="ajo_journey_test_configuration"
>title="配置测试模式"
>abstract="如果您的历程包含多个事件，请使用下拉列表选择一个事件。 然后，对于每个事件，配置传递的字段和执行事件发送。"

使用 **[!UICONTROL 触发事件]** 按钮以配置将使人员进入历程的事件。

>[!NOTE]
>
>在测试模式下触发事件时，将生成一个实际事件，这意味着它还会点击监听此事件的其他历程。

作为先决条件，您必须知道在Adobe Experience Platform中哪些用户档案被标记为测试用户档案。 事实上，测试模式仅允许在历程中使用这些用户档案，且事件必须包含ID。 预期的ID取决于事件配置。 例如，它可以是ECID或电子邮件地址。 需要将此键的值添加到 **配置文件标识符** 字段。

如果您的历程包含多个事件，请使用下拉列表选择一个事件。 然后，对于每个事件，配置传递的字段和执行事件发送。 界面可帮助您在事件有效负载中传递正确的信息，并确保信息类型正确。 测试模式会保存测试会话中使用的最后一个参数，以供日后使用。

![](assets/journeytest4.png)

界面允许您传递简单的事件参数。 如果要在事件中传递收藏集或其他高级对象，可以单击 **[!UICONTROL 代码视图]** 以查看有效负载的整个代码并对其进行修改。 例如，您可以复制并粘贴由技术用户准备的事件信息。

![](assets/journeytest5.png)

技术用户还可以使用此界面来撰写事件负载和触发事件，而无需使用第三方工具。

单击 **[!UICONTROL 发送]** 按钮，测试开始。 历程中个人的进度由可视流表示。 当个人在历程中移动时，路径会逐渐变为绿色。 如果发生错误，则在相应步骤中显示警告符号。 您可以将光标放在上面以显示有关错误的详细信息并访问完整的详细信息（如果可用）。

![](assets/journeytest6.png)

当您在事件配置屏幕中选择其他测试用户档案并再次运行测试时，会清除可视化流程并显示新用户的路径。

在测试中打开历程时，显示的路径对应于上次执行的测试。

无论事件是通过界面触发还是通过外部触发(例如使用Postman)，可视化流程都可正常工作。

## 基于规则的历程的测试模式 {#test-rule-based}

测试模式还适用于使用基于规则事件的历程。 有关基于规则的事件的更多信息，请参阅 [本页](../event/about-events.md).

触发事件时， **事件配置** 屏幕允许您定义要在测试中传递的事件参数。 您可以通过单击右上角的工具提示图标来查看事件ID条件。 规则评估中涉及的每个字段旁边也会提供工具提示。

![](assets/jo-event8.png)

## 业务事件的测试模式 {#test-business}

使用 [业务事件](../event/about-events.md)，使用测试模式触发历程中的单个测试用户档案进入，模拟事件并传递正确的用户档案ID。 您必须传递将在测试中进入旅程的测试用户档案的事件参数和标识符。 您不能使用 **[!UICONTROL 一次最多可包含100个用户档案]** 选项。 在测试模式下，没有“代码视图”模式可用于基于业务事件的历程。

请注意，首次触发业务事件时，您不能在同一测试会话中更改业务事件定义。 您只能使同一个人或不同个人进入传递相同或其他标识符的历程。 如果要更改业务事件参数，必须停止并重新启动测试模式。

## 查看日志 {#viewing_logs}

>[!CONTEXTUALHELP]
>id="ajo_journey_test_logs"
>title="测试模式日志"
>abstract="“显示日志”按钮以JSON格式显示测试结果。 这些结果显示历程中的个人数量及其状态。"

的 **[!UICONTROL 显示日志]** 按钮查看测试结果。 此页面以JSON格式显示历程的当前信息。 利用按钮可复制整个节点。 您需要手动刷新页面以更新历程的测试结果。

![](assets/journeytest3.png)

>[!NOTE]
>
>在测试日志中，如果调用第三方系统（数据源或操作）时出错，则显示错误代码和错误响应。

当前历程中显示的个人数（技术上称为实例）。 下面是为每个人显示的有用信息：

* _Id_:历程中个人的内部ID。 这可用于调试。
* _currentstep_:个人在历程中所处的步骤。 我们建议向您的活动添加标签，以便更轻松地识别它们。
* _currentstep_ >阶段：个人历程的状态（正在运行、已完成、错误或超时）。 有关详细信息，请参阅下文。
* _currentstep_ > _extraInfo_:错误的描述和其他上下文信息。
* _currentstep_ > _fetchErrors_:有关在此步骤期间发生的获取数据错误的信息。
* _externalKeys_:在事件中定义的键公式的值。
* _exchedData_:历程使用数据源时已检索的数据。
* _transitionHistory_:个人执行的步骤列表。 对于事件，将显示有效负载。
* _actionExecutionErrors_ :有关所发生错误的信息。

以下是个人历程的不同状态：

* _正在运行_:个人当前正在历程中。
* _已完成_:个人即将结束历程。
* _错误_:由于错误，个人将在历程中停止。
* _超时_:由于步骤过于耗时，个人将在历程中停止。

使用测试模式触发事件时，将自动生成一个包含源名称的数据集。

测试模式会自动创建一个体验事件，并将其发送到Adobe Experience Platform。 此体验事件的源名称为“Journey Orchestration测试事件”。

