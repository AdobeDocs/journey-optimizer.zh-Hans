---
solution: Journey Optimizer
product: journey optimizer
title: 测试自定义操作
description: 了解如何对自定义操作进行故障诊断
badge: label="有限发布版"
feature: Journeys, Actions, Custom Actions
topic: Administration
role: Data Engineer, Data Architect, Admin
level: Experienced
keywords: 操作，第三方，自定义，历程， API
source-git-commit: 5ce76bd61a61e1ed5e896f8da224fc20fba74b53
workflow-type: tm+mt
source-wordcount: '457'
ht-degree: 2%

---


# 自定义操作疑难解答 {#troubleshoot-a-custom-action}

>[!AVAILABILITY]
>
>此功能仅适用于一组组织（限量发布）。 要获得访问权限，请与 Adobe 代表联系。
>

## 概述

通过使用&#x200B;**发送测试请求**&#x200B;功能，管理员可以通过直接从Adobe Journey Optimizer (AJO)发出真正的API调用来验证其自定义操作配置。 此功能可确保请求结构、标头、身份验证和有效负载的格式正确，然后才能在历程中使用。

![](assets/send-test-request.png){width="70%" align="left"}

## 先决条件

- **需要管理员访问权限：**
   - 用户必须具有&#x200B;**“管理历程事件、数据源和操作”**&#x200B;权限。
   - 此权限包含在&#x200B;*历程管理员*&#x200B;角色中。
   - 仅使用&#x200B;**“查看历程事件……”**&#x200B;权限是不够的。
- **自定义操作**&#x200B;必须预先配置有URL、标头和身份验证设置。

## 如何使用发送测试请求功能

1. 导航到&#x200B;**自定义操作**&#x200B;配置屏幕。
1. 单击&#x200B;**发送测试请求**&#x200B;按钮。
1. 此时会出现一个弹出窗口，允许您指定请求参数：
   - 如果&#x200B;**自定义操作方法为GET**，则无需任何有效负载。
   - 如果&#x200B;**自定义操作方法为POST**，则必须提供JSON有效负载。

     >[!NOTE]
     >
     >如果此JSON的结构不正确，则AJO将引发错误；如果数据类型不匹配，则不会引发此错误。 例如，如果将整数参数用于应该是字符串的内容，则不会发生错误。

   - 如果定义了身份验证，系统将提示您输入身份验证详细信息。

1. 单击&#x200B;**发送**&#x200B;以执行请求。
1. 来自API的响应（包括标头和状态代码）将显示在界面中。

## 身份验证处理

当自定义操作包括身份验证时，AJO要求用户为每个测试请求输入身份验证详细信息：

- **基本身份验证：**&#x200B;用户必须提供&#x200B;*密码*。
- **API密钥身份验证：**&#x200B;用户必须输入API密钥&#x200B;*值*。
- **自定义身份验证：**&#x200B;用户必须在请求&#x200B;*bodyParam*&#x200B;中提供身份验证参数。 在此情况下添加了两个要完成的部分：**身份验证请求**&#x200B;和&#x200B;**身份验证响应**。

## 与外部测试工具(例如Postman)的主要区别

- 测试请求由&#x200B;**AJO历程**&#x200B;执行，这意味着：
   - 使用准确的请求结构(包括特定于AJO的标头)。
   - 源IP和标头与实时历程中使用的相匹配。
- 可用于对已部署自定义操作的&#x200B;**实时历程**&#x200B;进行故障排除。
- 无需在工具之间手动复制配置详细信息，从而降低了出错的风险。

## 故障排除

- 如果请求失败，请验证：
   - 在测试中输入的身份验证凭据。
   - 请求方法(GET与POST)以及相应的有效负载。
   - 在自定义操作中定义的API端点和标头。
- 使用响应数据识别潜在的错误配置。

此功能可简化测试和验证过程，确保自定义操作在实时AJO历程中正常运行。

